# 웹소켓 사용

* 일반적인 TCP 소켓과는 다른 프로토콜로 설계되어 있으므로 기존 TCP서버를 그대로 사용할 수 없고 새로운 서버를 구현해야한다.  
* 웹소켓용 특수한 서버가 따로 있다 (websocket객체 선언할 때 필요하다)-> 오픈 소스 가 많으므로 이걸 사용.  
* Phpwebsockets/ jWebsocket(java)/ web-socket-ruby(ruby)/ **socket IO-node(node.js ->자바스크립트로 써있음, 이전 버전의 브라우저를 지원하는 강점이 있음)** 등  
->	(대신 구동시키는게 좀 어려움)  

그러기 위해선 ~~Apache24(서버)와~~ XAMPP(php 개발환경, php 웹서버를 로컬로 돌린다, 무료)가 필요  
**톰캣에서 사용하는 웹소켓 lib를 사용하여 ZingChart로 실시간 데이터를 보낼 수 있다.**  
- ~~require('http'); 를 써야한다. nodejs는 자체적으로 http 서버를 갖고 있기 때문에, 아파치나 nginx 같은거 안써도 된다. ~~(무시..)  

# 참고 링크
~~Apache 2.4 설치과정 정리 - https://jimnong.tistory.com/612~~   
~~ㄴ(XAMPP 설치하면 아파치, mysql등이 딸려오는 식이라 굳이 설치가 필요하지 않은것같다.)~~  
XAMPP 테스트 서버 구축 - http://webdir.tistory.com/376   
Node.js npm 설치, 테스트 - https://kdydesign.github.io/2017/07/15/nodejs-npm-tutorial/ (명령어 쓸 때 $는 빼고 써야한다, **경로가 C: 나 D: 바로 밑이면 안되고, Program Files에 넣으니 됐다(-?)** )   

# XAMPP에서 아파치 웹서버 실행오류
 (그림)
1.	이 버튼들을 눌러서 각각의 웹 서버를 구축하는 것.   
2.	이미 구동중인 아파치( 따로 설치한거 )이 있다면 강종 후 실행시켜야 함 -> 작업관리자   
3.	방화벽 해제 창이 뜨면 무조건 해제해라. 이걸 실행시켜야 start가 되기 때문이다.    
4.	간단하게 HTML 파일을 생성, 웹소켓 예제 이용( 알아서 서치해라)해서 테스트 가능   
 (그림)
5.	아파치 경로가 잘못되어있는경우, Apache(httpd.conf)에 들어가서 파일 경로 수정한다.  
6.	오른쪽에 Shell 들어가서 ‘apache_start.bat’ 쳐보면 안되는 이유가 뜬다.  

# 개발자들이 IE를 싫어하는 이유
과거엔 심지어 윈도우 업데이트를 해야만 IE 업그레이드가 가능했다. 그래서 사람들마다 사용하는 버전차이가 심각했다. 그리고 각버전마다 기능도 달랏고 iE는 그 당시 표준 규격도 준수하지 않아서 사용하는데 매우 불편했다.   
웹브라우저가 항상 최신버전을 유지해줘야 새로운 스펙으로 개발된 페이지가 웹브라우저에 보일텐데 IE는 업그레이드하는데 따로 작업이 필요하는 등 불편함. 그래서 요즘 웹 브라우저는 자동 업데이트는 기본이다.   
->	웹소켓을 이용해서 서버를 만들고 서로 다른 타입의 클라이언트들과 통신하는 것이 목표인데, 클라이언트는 웹페이지/ 안드로이드/ 아이폰 등이다.  

# (예제) 실시간 채팅사이트 구현하기 ( V )
1.	접속자 1이 메세지를 전송하면 브라우저에서 'send message' event를 메세지와 함께 서버로 전달함    
2.	서버에서 'send message' event listener에서 event를 감지하고 메세지를 전달받음    
3.	서버의 'send message' event listener가 'receive message' event를 메세지와 함께 접속중인 모든 클라이언트에게 보냄   
4.	접속중인 모든 클라이언트의 'receive message' event listener가 event를 감지하고 메세지를 전달받음  
5.	클라이언트들의 'receive message' event listener가 메세지를 화면에 표시함    

# 웹소켓 서버구축 후 외부접속이 불가능한 이유(v)

>해결. 참고 - http://kcmschool.com/77  

# **node.js- npm 으로 serialport 라이브러리**(?)를 다운받아 아두이노와 통신가능. (어느정도 결과냄.)

>참고pdf – (링크)
>프로젝트 시작환경 구축하기
1. npm init – 이 명령어 쓴 후 당황하지 말고 엔터 몇번 쳐주면 package.json파일이 생긴다.
2. npm install – 이후 필요한 모듈은 이런식으로 다운받으면 모듈폴더, json이 함께 생긴다.

